<!doctype html>
{% load static %}

{% load crispy_forms_tags %}
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Company Name - Equipment Listing</title>
    <link rel="stylesheet" href="{% static 'assets/css/foundation.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/app.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{% static 'assets/css/custom.css' %}"> <!-- Custom styles -->
    <style>
        /* Custom style for the Add Specification button */
        #addSpecificationButton {
            background-color: #ffc107;
            /* Set background to transparent */
            color: white;
            /* Dark text color */
            cursor: pointer;
            /* Change cursor to pointer */
            padding: 0.5rem 1rem;
            /* Padding for the button */
            border-radius: 4px;
            /* Slightly rounded corners */
        }

        #addSpecificationButton:hover {
            background-color: #ffc107;
            color: #1c1c1c;
            /* Light gray on hover */
        }

        #create {
            background-color: #1c1c1c;
            color: #ffc107;
            padding: 15px 0px;
            width: 100%;
        }

        .upload-area {
    border: 2px dotted #007bff; /* Dotted border */
    border-radius: 6px; /* Rounded corners */
    padding: 20px; /* Padding */
    text-align: center; /* Center text */
    background-color: #f9f9f9; /* Light background */
    color: #555; /* Dark text color */
    transition: background-color 0.3s; /* Smooth transition */
    cursor: pointer; /* Pointer cursor */
}

.upload-area:hover {
    background-color: #e9ecef; /* Light gray background on hover */
}

.upload-icon {
    font-size: 3rem; /* Icon size */
    margin-bottom: 10px; /* Space below icon */
}

.file-input {
    display: none; /* Hide the file input */
}

.file-list {
    margin-top: 10px; /* Space above the file list */
    color: #333; /* Dark text color */
    font-size: 0.9rem; /* Smaller font size */
}
    </style>
</head>

<body>

    <!-- Navigation for large devices -->
    <nav class="top-bar hide-for-small-only sticky-nav" data-topbar role="navigation">
        <div class="top-bar-left">
            <ul class="menu" data-dropdown-menu>
                <li class="menu-text">
                    <img src="{% static 'assets/images/logo-white.png' %}" alt="Logo" class="logo">
                </li>
            </ul>
        </div>
        <div class="top-bar-right">
            <ul class="menu" data-dropdown-menu>
                <li class="cart-item">
                    <a href="{% url 'cart-summary' %}">
                        <i class="bi bi-cart"></i>
                        <span class="cart-count">{{ cart_items.count|default:0 }}</span>
                    </a>
                </li>

                {% if user.is_authenticated %}
                <li><a href="{% url 'user:logout' %}">Logout</a></li>
                {% else %}
                <li><a href="{% url 'user:login' %}" class="hide-for-medium-only" style="margin-right: 1em; color: white;">Login</a>
                </li>
                {% endif %}

                <li><a href="#" class="button warning" data-open="listEquipmentModal">List Equipment</a></li>
            </ul>
        </div>
    </nav>


    <!-- Modal for Listing Equipment -->
    <div class="modal-overlay" id="modalOverlay">

        <div class="reveal" id="listEquipmentModal" data-reveal>
            <div class="grid-container">
                <button class="close-button" data-close aria-label="Close modal" type="button">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h2>Create Equipment</h2>
                <form method="post" enctype="multipart/form-data" action="{% url 'equipment-create' %}">
                    {% csrf_token %}

                    <!-- Equipment Information -->
                    <div class="grid-x grid-margin-x">
                        <div class="cell medium-12">
                            <label for="name">Name:</label>
                            <input type="text" name="name" id="name" required>
                        </div>
                        <div class="cell medium-12">
                            <label for="hourly_rate">Hourly Rate:</label>
                            <input type="number" name="hourly_rate" id="hourly_rate" step="0.01" required>
                        </div>
                    </div>

                    <!-- Category and Tags -->
                    <div class="grid-x grid-margin-x">
                        <div class="cell medium-12">
                            <label for="category">Category:</label>
                            <select name="category" id="category" required>
                                {% for category in categories %}
                                <option value="{{ category.id }}">{{ category.name }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="cell medium-12">
                            <label for="tags">Tags:</label>
                            <input type="text" name="tags" id="tags" placeholder="Type tags separated by commas"
                                required>
                        </div>
                    </div>

                    <!-- Description and Terms -->
                    <div class="grid-x grid-margin-x">
                        <div class="cell medium-12">
                            <label for="description">Description:</label>
                            <textarea name="description" id="description" rows="4" required></textarea>
                        </div>
                        <div class="cell medium-12">
                            <label for="terms">Terms:</label>
                            <textarea name="terms" id="terms" rows="4"></textarea>
                        </div>
                    </div>

                    <!-- Availability and Images -->
                    <div class="grid-x grid-margin-x">
                        <div class="cell medium-12">
                            <label for="is_available">Is Available:</label>
                            <input type="checkbox" name="is_available" id="is_available">
                        </div>
                        <div class="cell medium-12">
                            <label for="images">Select Images:</label>
                            <div class="upload-area" id="uploadArea">
                                <i class="bi bi-upload upload-icon"></i>
                                <p>Drag and drop your images here or click to upload</p>
                                <input type="file" name="images" id="images" multiple class="file-input">
                                <div id="fileList" class="file-list"></div> <!-- Display area for selected files -->
                            </div>
                        </div>
                    </div>

                    <!-- Address Information -->
                    <div class="grid-x grid-margin-x">
                        <div class="cell medium-12">
                            <label for="street_address">Street Address:</label>
                            <input type="text" name="street_address" id="street_address" required>
                        </div>
                        <div class="cell medium-12">
                            <label for="street_address2">Street Address 2:</label>
                            <input type="text" name="street_address2" id="street_address2">
                        </div>
                        <div class="cell medium-12">
                            <label for="city">City:</label>
                            <input type="text" name="city" id="city" required>
                        </div>
                        <div class="cell medium-12">
                            <label for="state">State:</label>
                            <input type="text" name="state" id="state" required>
                        </div>
                        <div class="cell medium-12">
                            <label for="zip_code">Zip Code:</label>
                            <input type="text" name="zip_code" id="zip_code" required>
                        </div>
                        <div class="cell medium-12">
                            <label for="country">Country:</label>
                            <input type="text" name="country" id="country" required>
                        </div>
                    </div>

                    <!-- Specifications Container -->
                    <div class="cell medium-12 specifications-container">
                        <!-- Specification items will be added here -->
                    </div>

                    <div class="cell medium-6">
                        <button type="button" id="addSpecificationButton" class="button" style="font-size: .8rem; color: #1c1c1c;">
                            Add Specification</button>
                    </div>
                    
                    <div class="cell medium-12">
                        <button type="submit" class="button" id="create">Create Equipment</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Mobile Navigation -->
    <div class="show-for-small-only mobile-nav sticky-nav">
        <div class="grid-x align-middle">
            <div class="cell auto">
                <img src="{% static 'assets/images/logo-white.png' %}" alt="Logo" class="logo">
            </div>
            <div class="cell auto">
                {% if user.is_authenticated %}
                {% else %}
                <a href="{% url 'user:login' %}" class="button list-equipment-button">Login</a>
                {% endif %}
            </div>
            <div class="cell shrink">
                <a href="{% url 'cart-summary' %}" class="cart-item">
                    <i class="bi bi-cart"></i>
                    <span class="cart-count">{{ cart_items.count|default:0 }}</span>
                </a>
            </div>
        </div>
    </div>


    <!-- Sticky Navbar for Mobile -->
    <nav class="sticky bottom-navbar show-for-small-only">
        <div class="grid-x align-center-middle">
            <div class="cell auto text-center">
                <a href="{% url 'home' %}" class="nav-link">
                    <i class="bi bi-house-door"></i>
                    <small>Home</small>
                </a>
            </div>
            <div class="cell auto text-center">
                <a href="#" class="nav-link">
                    <i class="bi bi-bookmark"></i>
                    <small>Saved</small>
                </a>
            </div>
            <div class="cell auto text-center">
                <a href="#" class="nav-link" data-open="listEquipmentModal">
                    <i class="bi bi-plus"></i>
                    <small>List</small>
                </a>
            </div>
            <div class="cell auto text-center">
                <a href="#" class="nav-link">
                    <i class="bi bi-chat-dots"></i>
                    <small>Messages</small>
                </a>
            </div>
            <div class="cell auto text-center">
                <a href="{% url 'user:profile' %}" class="nav-link">
                    <i class="bi bi-person"></i>
                    <small>Profile</small>
                </a>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="grid-container">
            <div class="grid-x grid-margin-x align-middle text-center">
                <div class="cell large-12">
                    <div class="hero-content">
                        <div class="grid-x align-center custom-hero-content">
                            <div class="cell">
                                <span class="custom-text">Find Equipment</span>
                            </div>
                            <div class="cell">
                                <div class="custom-location-box">
                                    <i class="bi bi-geo-alt location-icon"></i>
                                    <span data-open="usaLocationModal" id="allButton">All in USA</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
    
                <!-- Search Box -->
                <div class="cell large-12">
                    <div class="grid-x align-center">
                        <div class="cell small-12 medium-10 large-8 search-box">
                            <form method="GET" action="{% url 'search' %}" id="search-form">
                                <div class="input-group input-group-rounded">
                                    <input class="input-group-field" type="search" id="searchInput" name="query"
                                           placeholder="Search anything..." value="{{ query }}" required>
                                    <div class="input-group-button">
                                        <input type="submit" class="button" style="background-color: #1c1c1c; color: white;"
                                               value="Search">
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content Section -->
    {% block content %}
    <!-- Page-specific content goes here -->
    {% endblock %}

    <!-- Footer -->
    <footer class="footer">
        <div class="grid-container">
            <div class="grid-x grid-margin-x">
                <div class="cell text-center show-for-small-only" style="margin-bottom: 1.5rem;">
                    <i class="bi bi-chevron-down footer-toggle-icon" id="footerToggle" title="Toggle Footer"></i>
                </div>
            </div>
            <div class="footer-content" id="footerContent">
                <div class="grid-x grid-margin-x">
                    <!-- Contact Information -->
                    <div class="cell small-12 medium-4">
                        <h4>Contact Us</h4>
                        <p>
                            <strong>Phone:</strong> (123) 456-7890<br>
                            <strong>Email:</strong> <a href="mailto:info@yourcompany.com">info@yourcompany.com</a><br>
                            <strong>Address:</strong> 1234 Equipment Lane, Suite 100, City, State, 12345
                        </p>
                    </div>
                    <!-- Quick Links -->
                    <div class="cell small-12 medium-4">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="#">Home</a></li>
                            <li><a href="#">About Us</a></li>
                            <li><a href="#">Services</a></li>
                            <li><a href="#">Equipment</a></li>
                            <li><a href="#">Contact Us</a></li>
                        </ul>
                    </div>
                    <!-- Social Media -->
                    <div class="cell small-12 medium-4">
                        <h4>Follow Us</h4>
                        <ul class="social-links">
                            <li><a href="#" aria-label="Facebook"><i class="bi bi-facebook"></i></a></li>
                            <li><a href="#" aria-label="Twitter"><i class="bi bi-twitter"></i></a></li>
                            <li><a href="#" aria-label="Instagram"><i class="bi bi-instagram"></i></a></li>
                            <li><a href="#" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a></li>
                        </ul>
                    </div>
                </div>
                <div class="grid-x grid-margin-x">
                    <div class="cell text-center" style="margin-bottom: 1rem;">
                        <p>&copy; 2024 Your Company Name. All Rights Reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="{% static 'assets/js/vendor/jquery.js' %}"></script>
    <script src="{% static 'assets/js/vendor/what-input.js' %}"></script>
    <script src="{% static 'assets/js/vendor/foundation.js' %}"></script>
    <script src="{% static 'assets/js/vendor/foundation.min.js' %}"></script>

    <script src="{% static 'assets/js/app.js' %}"></script>
</body>

</html>