<!-- search_results.html -->

{% extends 'base.html' %}

{% load static %}

{% block title %}Search Results - EquiHub{% endblock %}

{% block content %}
<div class="grid-container mt-4">
    <div class="grid-x grid-margin-x align-center text-center">
        
        <div class="cell auto">
            <div class="grid-x align-center grid-margin-x">
                <!-- Back Arrow Button -->
                <div class="cell small-2 medium-6 large-6" style="padding-top: 20px; display: flex; align-items: start;">
                    <a href="{{ referer_url }}" id="create" class="button" style="padding: 5px; width: 100px; margin-left: 0;">
                        <i class="bi bi-arrow-left" style="font-size: 1.5rem;"></i>
                    </a>
                </div>
            
                <!-- Search Query Text -->
                <div class="cell small-10 medium-6 large-6" style="padding-top: 20px; display: flex; align-items: start; font-size: .5rem;">
                    <h2 class="mb-4">search "{{ query }}"</h2>
                </div>
            </div>
            
            

            {% if results %}

                <div class="grid-x grid-margin-x align-center">
                    
                    {% for item in results %}
                        <div class="cell small-12 medium-6 large-4 mb-4">
                            <div class="card h-100 shadow">
                                <div class="card-section">
                                    <h5 class="text-dark">{{ item.name }}</h5>
                                    <p>{{ item.description|truncatewords:10 }}</p>
                                    <a href="{% url 'equipment_detail' item.slug item.id %}" class="button">View Details</a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="callout alert text-white bg-dark" role="alert">
                    No results found. Please try a different search.
                </div>
            {% endif %}

        </div>
    </div>
</div>
{% endblock %}